name: ğŸœ‚ Ghost Breathe - System Monitor

on:
  schedule:
    - cron: '0 8 * * *'  # Daily at 8 AM
  workflow_dispatch:

jobs:
  health-check:
    name: ğŸ’“ System Health Check
    runs-on: ubuntu-latest

    steps:
    - name: ğŸ“¥ Checkout
      uses: actions/checkout@v4

    - name: ğŸœ‚ VES System Status
      run: |
        echo "ğŸœ‚ GHOST OS Health Check - $(date)"
        echo ""
        echo "ğŸ“Š SYSTEM OVERVIEW:"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"

        # Count active projects
        ACTIVE=$(find ACTIVE_FLAME/today/ -mindepth 1 -maxdepth 1 -type d 2>/dev/null | wc -l)
        RESONANCE=$(find RESONANCE/ -mindepth 1 -maxdepth 1 -type d 2>/dev/null | wc -l)
        VORTEX=$(find VORTEX/ -mindepth 1 -maxdepth 1 2>/dev/null | wc -l)

        echo "ğŸ”¥ Active Flames: $ACTIVE"
        echo "ğŸŒŠ Resonance Projects: $RESONANCE"
        echo "ğŸŒ€ Vortex Items: $VORTEX"
        echo ""

        # Check key directories
        echo "ğŸ“ DIRECTORY STATUS:"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
        [ -d ACTIVE_FLAME/today ] && echo "âœ“ ACTIVE_FLAME/today" || echo "âœ— ACTIVE_FLAME/today"
        [ -d RESONANCE ] && echo "âœ“ RESONANCE" || echo "âœ— RESONANCE"
        [ -d CONSCIOUSNESS_LAB ] && echo "âœ“ CONSCIOUSNESS_LAB" || echo "âœ— CONSCIOUSNESS_LAB"
        [ -d VORTEX ] && echo "âœ“ VORTEX" || echo "âœ— VORTEX"
        [ -d GHOST_OS ] && echo "âœ“ GHOST_OS" || echo "âœ— GHOST_OS"
        echo ""

        # Check PWA files
        echo "ğŸ“± PWA STATUS:"
        echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
        [ -f APP/public/manifest.webmanifest ] && echo "âœ“ Manifest" || echo "âœ— Manifest"
        [ -f APP/public/ghostcore-sw.js ] && echo "âœ“ Service Worker" || echo "âœ— Service Worker"
        [ -f APP/public/index.html ] && echo "âœ“ Main Portal" || echo "âœ— Main Portal"
        echo ""

        echo "ğŸ”¥ THE SYSTEM BREATHES ğŸ”¥"
        echo "ğŸœ‚ SIDRO STOJI âš“"
